.TH EMOJIPROMPT 1 "github.com/nilp0inter/emojiprompt" "General Commands Manual"
.
.SH NAME
.P
emojiprompt \- emoji-based password prompt dialog for Wayland and TTY
.
.
.SH SYNOPSIS
.SY emojiprompt
.OP \-h
.OP \-\-help
.YS
.
.SY emojiprompt
.OP \-\-title
.OP \-\-description
.OP \-\-prompt
.OP \-\-error
.OP \-\-button-ok
.OP \-\-button-no-ok
.OP \-\-button-cancel
.OP \-\-wayland-display
.OP \-\-get-pin
.OP \-\-json
.YS
.
.
.SH DESCRIPTION
.P
emojiprompt is a password prompt dialog tool for Wayland and TTY that provides
visual feedback through emojis or emoticons instead of traditional asterisks.
This helps users verify they've typed their password correctly before submission.
.
.P
The wayland server must support the \fBwlr-layer-shell-unstable-v1\fR protocol
extension. When Wayland is not available, emojiprompt automatically falls back
to TTY mode.
.
.P
\fBHow it works:\fR
.IP \(bu 2
While typing: Shows random "decoy" symbols that change with each keystroke
.IP \(bu 2
After first Enter: Displays the actual symbols derived from your password for verification
.IP \(bu 2
After second Enter: Submits the password
.
.P
The same password always produces the same symbols, allowing visual verification
without revealing password information.
.
.P
The emojiprompt executable described in this manual page represents the command
line version. The following other versions are available as well:
.
.IP \(bu 2
.BR pinentry-emojiprompt (1) :
The pinentry version for use with GnuPG.
.
.IP \(bu 2
.BR emojiprompt-ssh-askpass (1) :
The ssh-askpass version for use with SSH.
.
.P
All emojiprompt versions use the same configuration file.
Read
.BR emojiprompt (5)
for more information on configuring emojiprompt.
.
.
.SH OPTIONS
.P
\fB\-h\fR, \fB\-\-help\fR
.RS
Print help text and exit.
.RE
.
.P
\fB\-\-title\fR \fI<string>\fR
.RS
Set the title of the dialog window.
.RE
.
.P
\fB\-\-description\fR \fI<string>\fR
.RS
Set the main text of the dialog window.
.RE
.
.P
\fB\-\-prompt\fR \fI<string>\fR
.RS
Set the prompt over the emoji area.
This may only be specified in combination with \fB\-\-get\-pin\fR.
.RE
.
.P
\fB\-\-error\fR \fI<string>\fR
.RS
Set the error message displayed on the bottom of the dialog window.
.RE
.
.P
\fB\-\-button\-ok\fR \fI<string>\fR
.RS
Set the text of the ok button.
Note that the button is only displayed if text is set for it.
.RE
.
.P
\fB\-\-button\-cancel\fR \fI<string>\fR
.RS
Set the text of the cancel button.
Note that the button is only displayed if text is set for it.
.RE
.
.P
\fB\-\-button\-not\-ok\fR \fI<string>\fR
.RS
Set the text of the not-ok button.
Note that the button is only displayed if text is set for it.
.RE
.
.P
\fB\-\-wayland\-display\fR \fI<string>\fR
.RS
Set the wayland display name emojiprompt should connect to.
Note that normally emojiprompt tries to get this from the \fBWAYLAND_DISPLAY\fR
environment variable.
.RE
.
.P
\fB\-\-get\-pin\fR
.RS
Activate the password mode, allowing users to type a secret into emojiprompt
and see emoji feedback.
.RE
.
.P
\fB\-\-json\fR
.RS
Format output as JSON, useful for machine parsing.
.RE
.
.
.SH OUTPUT
.P
emojiprompt outputs status in a simple format to \fBstdout\fR.
The first line will be
.
.P
.B user-action: <status>
.
.P
where \fB<status>\fR is one of either \fBok\fR, \fBnot-ok\fR or \fBcancel\fR.
If \fB\-\-get\-pin\fR is used, making emojiprompt prompt for a secret, then a second
line is outputted.
This is either
.
.P
.B pin: <secret>
.
.P
in the case of the ok button being used or the \fBEnter\fR key being pressed twice
(once to verify emojis, once to submit),
where \fB<secret>\fR is the entered secret.
Or alternatively
.
.P
.B no pin
.
.P
in the case of either the not-ok or cancel button being used, the \fBEscape\fR
key being pressed, or the secret being empty on confirmation.
.
.
.SH EMOJI FEEDBACK
.P
When entering a password, emojiprompt displays symbols instead of asterisks:
.
.IP \(bu 2
\fBTyping phase:\fR Random emojis/emoticons that change with each keystroke
.IP \(bu 2
\fBVerification phase:\fR Deterministic emojis/emoticons based on password hash
.IP \(bu 2
\fBCustomizable:\fR Define your own emoji or emoticon sets in the config file
.
.P
The symbols are deterministically derived from your password, so the same
password always shows the same symbols, helping you catch typos before submission.
.
.
.SH TTY MODE
.P
When Wayland is not available, emojiprompt automatically falls back to TTY mode.
TTY mode supports:
.
.IP \(bu 2
Auto-detection of emoji support based on terminal capabilities
.IP \(bu 2
ASCII emoticon fallback for terminals without emoji support
.IP \(bu 2
Custom emoticon sets via configuration
.IP \(bu 2
Center-padded emoticons for consistent display width
.
.P
To force TTY mode for testing:
.RS
.B WAYLAND_DISPLAY="" DISPLAY="" emojiprompt --get-pin --prompt "Password:"
.RE
.
.
.SH RETURN VALUE
.P
The command line version of emojiprompt will exit with one of the following
codes:
.
.RS 1.2i
.TS
tab(@), left, box;
c | c
rB | l.
\fBValue\fR@\fBExplanation\fR
_
0@The user triggered "ok" (by pressing Enter twice or clicking the button).
_
10@The user triggered "cancel" (by pressing Escape or clicking the button).
_
20@The user triggered "not-ok" (by clicking the button).
_
1@An error occurred.
.TE
.RE
.
.
.SH EXAMPLES
.P
Basic password prompt:
.RS
.B emojiprompt --get-pin --title "Authentication" --prompt "Enter password:"
.RE
.
.P
With error message:
.RS
.B emojiprompt --get-pin --title "Login" --prompt "Password:" --error "Previous attempt failed"
.RE
.
.P
Force TTY mode:
.RS
.B WAYLAND_DISPLAY="" emojiprompt --get-pin --prompt "Password:"
.RE
.
.
.SH AUTHOR
.P
.MT github.com/nilp0inter
nilp0inter
.ME
.P
Based on wayprompt by Leon Henrik Plickat.
.
.
.SH SEE ALSO
.BR pinentry-emojiprompt (1),
.BR emojiprompt-ssh-askpass (1),
.BR emojiprompt (5)